# Network Address Translation 이란?
> NAT(네트워크 주소 변환)는 IP 패킷의  TCP/UDP  포트 숫자와 소스 및 목적지 IP 주소 등을 재기록하면서 라우터를 통해 네트워 트래픽을 주고 받는 기술이다.
>  쉽게 말해, **내부 네트워크에서 사용하는 사설 IP를 외부 인터넷에서 사용하는 공인 IP로 바꾸는 기술**

## NAT를 사용하는 이유
1. IPv4 주소 부족 문제 해결 : 한 개의 공인 IP에 수많은  사설 IP를 연결할 수 있어, IP 고갈 문제를 획기적으로 늦출 수 있다
   
2. 보안 강화 : 외부 인터넷에서는 내부 사설 IP 주소를 알 수 없기 때문에, 내부 네트워크 구조를 숨기는 방화벽 역할을함
   
3. 유연한 네트워크 관리 : 내부 네트워크 주소를 변경하더라도, 공인 IP는 그대로 유지할 수 있어 관리가 용이하다.

## NAT의 주요 동작 방식
> 단순한 주소 변환을 넘어, 실제 구현 방식에 따라 다음과 같이 나뉜다.


1. Static NAT (1:1 NAT)
	- 공인 IP와 사설 IP가 1:1로 고정 매핑된다.
	- 주로 내부 네트워크에 있는 서버(웹 서버, 메일 서버 등)을 외부에 공개할 때 사용한다.
2. Dynamic NAT(N:N NAT)
	- 여러개의 공인 IP그룹(Pool)을 만들어 놓고, 내부 사용가 필요할 때마다 남는 공인 IP를 외부에 공개할 때 사용한다.
3. PAT(Port Address Translation / NAPT)
	- 하나의 공인 IP를 여러 대의 PC가 공유하는 방식
	- 각 PC를 구분하기 위해 IP뒤에 **포트 번호(Port)** 를 붙여서 식별
	- 우리가 흔히 사용하는 공유기의 핵심 원리

## 핵심 매커니즘 : NAT Table
> 공유기(라우터)는 내부에서 나간 요청이 누구의 것인지 기억해야 응닫이 올 떄 전달해줄 수 있다. 이를 NAT Table로 해당 내용을 가지고 있다.

|**내부(Local) IP:포트**|**외부(Global) IP:포트**|**목적지(Destination) IP**|
|---|---|---|
|192.168.0.10:5500|210.1.1.1:10001|8.8.8.8|
|192.168.0.11:5500|210.1.1.1:10002|142.250.x.x|


## NAT 환경에서의 외부 접근(Port Forwarding)
> NAT는 보안상 