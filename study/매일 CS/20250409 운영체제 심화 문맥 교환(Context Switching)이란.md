# **운영체제 심화: 문맥 교환(Context Switching)이란?**

운영체제(OS)가 여러 작업을 동시에 처리할 수 있도록 해주는 중요한 기술 중 하나가 **문맥 교환(Context Switching)**이에요. 오늘은 이 개념을 이해함으로써 프로세스와 스레드가 실제로 어떻게 CPU를 사용하는지를 파악해봅시다!

---

## 🔄 **문맥 교환이란?**

운영체제가 **현재 실행 중인 프로세스(또는 스레드)의 상태를 저장하고**, **다른 프로세스(또는 스레드)의 상태를 복원하여 실행을 전환하는 과정**을 말합니다.

이렇게 해야 여러 프로그램이 **CPU를 공유**하면서 돌아가는 것처럼 보이게 할 수 있어요. 사실은 하나씩 번갈아 가며 실행되고 있는 거죠.

---

## 🧠 **왜 필요한가요?**

- **멀티태스킹** 환경에서, 사용자는 여러 프로그램을 동시에 실행할 수 있어야 하죠.
    
- CPU는 한 번에 하나의 프로세스만 실행할 수 있기 때문에, 운영체제가 적절한 시점에 실행 대상을 바꾸어줘야 해요.
    

---

## 🧩 **문맥(Context)의 구성 요소**

- **프로세스 제어 블록(PCB)**: 프로세스의 ID, 레지스터 값, 프로그램 카운터(PC), 스택 포인터 등
    
- **CPU 레지스터 상태**: 계산 도중 저장된 임시 데이터
    
- **메모리 맵 정보**: 코드, 데이터, 힙, 스택 등
    

---

## 🕒 **문맥 교환의 비용**

문맥 교환은 자원과 시간이 필요한 작업이에요. 특히 레지스터를 저장하고 불러오는 데 오버헤드가 발생하죠.  
그래서 **스레드 간 전환이 프로세스 간 전환보다 훨씬 빠릅니다**, 왜냐면 스레드는 메모리를 공유하니까요!

---

## 💡 **정리**

|항목|설명|
|---|---|
|정의|CPU에서 실행 중인 작업을 다른 작업으로 전환|
|필요성|멀티태스킹 구현|
|포함 정보|레지스터, 스택, 프로그램 카운터 등|
|오버헤드|있음 (전환 시간 및 캐시 영향)|