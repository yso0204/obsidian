
# App.js

`App.js`는 모든 컴포넌트들의 상위 컴포넌트로, 웹 페이지에 필요한 주요 기능과 컴포넌트들을 관리하는 역할을 한다.

```js
import TabBar from './components/TabBar.js';
import Content from './components/Content.js';

export default function App($app) {
    this.state = {
        currentTab: 'all',
        photos: [],
    };

    const tabBar = new TabBar();
    const content = new Content();
    
    this.setState = (newState) => {
        this.state = newState;
    };
}
```

초기값 설정 및 상태관리용으로 만들어 준 뒤
Tab과 Content 컴포넌트의 상태도 알맞게 업데이트 해주어야 한다.
```js
import TabBar from './components/TabBar.js';
import Content from './components/Content.js';

export default function App($app) {
    this.state = {
        currentTab: 'all',
        photos: [],
    };

		const tabBar = new TabBar();
    const content = new Content();
    
    this.setState = (newState) => {
        this.state = newState;
        tabBar.setState(this.state.currentTab);
        content.setState(this.state.photos);
    };
}
```

이제 TabBar 컴포넌트에 필요한 상태 및 기능들을 전달해야하는데
초기상태와 버튼을 누르는 기능을 추가한다.
```js
import TabBar from './components/TabBar.js';
import Content from './components/Content.js';
import { request } from './components/api.js';

export default function App($app) {
    this.state = {
        currentTab: 'all',
        photos: [],
    };

    const tabBar = new TabBar({
        initialState: '',
        onClick: async (name) => {
            this.setState({
                ...this.state,
                currentTab: name,
                photos: await request(name),
            });
        },
    });

    const content = new Content();

    this.setState = (newState) => {
        this.state = newState;
        tabBar.setState(this.state.currentTab);
        content.setState(this.state.photos);
    };
}
```

`onClick`함수는 버튼을 누르면 실행되는 함수로, `setState`를 통해 상태가 변경된 것을 반영한다.

이제 초기 모든 동물 사진을 받아오기 위한 `init` 함수를 만들어 api호출을 해야한다.
```js
import TabBar from './components/TabBar.js';
import Content from './components/Content.js';
import { request } from './components/api.js';

export default function App($app) {
    this.state = {
        currentTab: 'all',
        photos: [],
    };

    const tabBar = new TabBar({
        initialState: '',
        onClick: async (name) => {
            this.setState({
                ...this.state,
                currentTab: name,
                photos: await request(name),
            });
        },
    });

    const content = new Content();

    this.setState = (newState) => {
        this.state = newState;
        tabBar.setState(this.state.currentTab);
        content.setState(this.state.photos);
    };

    const init = async () => {
        try {
            const initialPhotos = await request();
            this.setState({
                ...this.state,
                photos: initialPhotos,
            });
        } catch (error) {
            console.log(error);
        }
    };

    init();
}
```

# TabBar.js
